<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DSA Graph Problem Tracker</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/js/all.min.js"></script>
    <link rel="shortcut icon" href="logo.png">

    <script>
        tailwind.config = {
            darkMode: 'class',
        }
    </script>
</head>
<body class="bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50 dark:from-gray-900 dark:via-blue-900 dark:to-purple-900 min-h-screen transition-all duration-300">
    <div class="container mx-auto px-4 py-8">
        <!-- Header -->
        <div class="mb-8">
            <div class="flex justify-between items-center mb-4">
                <div>
                    <h1 class="text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2">
                        DSA Graph Sheet
                    </h1>
                    <p class="text-gray-700 dark:text-gray-300 text-base">Master graph algorithms and traversal techniques â€” <a href="https://www.linkedin.com/in/ashish2208/" class="bg-yellow-500 hover:bg-yellow-600 text-white font-semibold px-2 py-1 rounded shadow transition">Ashish Sharma</a></p>
                </div>
                <!-- Dark Mode Toggle -->
                <button 
                    id="darkModeToggle"
                    class="p-3 rounded-full bg-white dark:bg-gray-800 shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-200 dark:border-gray-700"
                >
                    <i class="fas fa-moon text-gray-600 dark:text-yellow-400 text-xl" id="darkModeIcon"></i>
                </button>
            </div>
        </div>

        <!-- Search and Stats -->
        <div class="bg-white/80 dark:bg-gray-800/80 backdrop-blur-lg rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700 p-6 mb-6">
            <div class="flex flex-col md:flex-row gap-6 items-center justify-between">
                <div class="relative flex-1 max-w-md">
                    <input 
                        type="text" 
                        id="searchInput" 
                        placeholder="Search problems..." 
                        class="w-full pl-12 pr-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-all duration-300"
                    >
                    <i class="fas fa-search absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"></i>
                </div>
                <div class="flex gap-4 text-sm">
                    <div class="px-4 py-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-xl shadow-lg">
                        <i class="fas fa-check mr-2"></i>
                        Completed: <span id="completedCount" class="font-semibold">0</span>
                    </div>
                    <div class="px-4 py-2 bg-gradient-to-r from-red-500 to-pink-500 text-white rounded-xl shadow-lg">
                        <i class="fas fa-clock mr-2"></i>
                        Remaining: <span id="remainingCount" class="font-semibold">0</span>
                    </div>
                    <div class="px-4 py-2 bg-gradient-to-r from-blue-500 to-indigo-500 text-white rounded-xl shadow-lg">
                        <i class="fas fa-list mr-2"></i>
                        Total: <span id="totalCount" class="font-semibold">0</span>
                    </div>
                    <div class="px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl shadow-lg">
                        <i class="fas fa-percentage mr-2"></i>
                        <span id="progressPercentage">0%</span>
                    </div>
                </div>
            </div>
            <!-- Progress Bar -->
            <div class="mt-4">
                <div class="flex justify-between text-sm text-gray-600 dark:text-gray-400 mb-2">
                    <span>Overall Progress</span>
                    <span id="progressText">0 / 0</span>
                </div>
                <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3">
                    <div 
                        id="progressBar" 
                        class="bg-gradient-to-r from-blue-500 to-purple-500 h-3 rounded-full transition-all duration-500 ease-out"
                        style="width: 0%"
                    ></div>
                </div>
            </div>
        </div>

        <!-- Problem Sections -->
        <div id="problemSections" class="space-y-6">
            <!-- Sections will be populated here -->
        </div>
    </div>

    <script>
        // Theme management
        let isDarkMode = localStorage.getItem('graphDarkMode') === 'true' || false;
        
        function toggleDarkMode() {
            isDarkMode = !isDarkMode;
            localStorage.setItem('graphDarkMode', isDarkMode);
            updateTheme();
        }

        function updateTheme() {
            const html = document.documentElement;
            const icon = document.getElementById('darkModeIcon');
            
            if (isDarkMode) {
                html.classList.add('dark');
                icon.className = 'fas fa-sun text-yellow-400 text-xl';
            } else {
                html.classList.remove('dark');
                icon.className = 'fas fa-moon text-gray-600 text-xl';
            }
        }

        // In-memory storage for problem completion status
        let problemStatus = JSON.parse(localStorage.getItem('graphProblemStatus')) || {};
        let allProblems = [];

        // Problem data structure with platform links
        const problemData = {
            "Day 1: Introduction to Graph": [
                { name: "Graph and Types", difficulty: "Easy", leetcode: "", gfg: "https://www.geeksforgeeks.org/graph-data-structure-and-algorithms/" },
                { name: "Graph Representation | C++", difficulty: "Easy", leetcode: "", gfg: "https://www.geeksforgeeks.org/graph-and-its-representations/" },
                { name: "Graph Representation | Java", difficulty: "Easy", leetcode: "", gfg: "https://www.geeksforgeeks.org/implementing-generic-graph-in-java/" },
                { name: "Connected Components | Logic Explanation", difficulty: "Hard", leetcode: "https://leetcode.com/problems/number-of-connected-components-in-an-undirected-graph/", gfg: "https://www.geeksforgeeks.org/connected-components-in-an-undirected-graph/" },
                { name: "BFS", difficulty: "Medium", leetcode: "", gfg: "https://www.geeksforgeeks.org/breadth-first-search-or-bfs-for-a-graph/" },
                { name: "DFS", difficulty: "Hard", leetcode: "", gfg: "https://www.geeksforgeeks.org/depth-first-search-or-dfs-for-a-graph/" }
            ],
            "Day 2: Problems on BFS/DFS": [
                { name: "Number of provinces (leetcode)", difficulty: "Medium", leetcode: "https://leetcode.com/problems/number-of-provinces/", gfg: "" },
                { name: "Connected Components Problem in Matrix", difficulty: "Hard", leetcode: "", gfg: "https://www.geeksforgeeks.org/connected-components-in-an-undirected-graph/" },
                { name: "Rotten Oranges", difficulty: "Medium", leetcode: "https://leetcode.com/problems/rotting-oranges/", gfg: "https://www.geeksforgeeks.org/minimum-time-required-so-that-all-oranges-become-rotten/" },
                { name: "Flood fill", difficulty: "Hard", leetcode: "https://leetcode.com/problems/flood-fill/", gfg: "https://www.geeksforgeeks.org/flood-fill-algorithm-implement-fill-paint/" },
                { name: "Detect A cycle in Undirected Graph using BFS", difficulty: "Hard", leetcode: "", gfg: "https://www.geeksforgeeks.org/detect-cycle-undirected-graph/" },
                { name: "Detect A cycle in Undirected Graph using DFS", difficulty: "Hard", leetcode: "", gfg: "https://www.geeksforgeeks.org/detect-cycle-undirected-graph/" },
                { name: "0/1 Matrix (Bfs Problem)", difficulty: "Medium", leetcode: "https://leetcode.com/problems/01-matrix/", gfg: "https://www.geeksforgeeks.org/distance-nearest-cell-1-binary-matrix/" },
                { name: "Surrounded Regions (dfs)", difficulty: "Hard", leetcode: "https://leetcode.com/problems/surrounded-regions/", gfg: "https://www.geeksforgeeks.org/given-matrix-o-x-replace-o-x-surrounded-x/" },
                { name: "Number of Enclaves [flood fill implementation - multisource]", difficulty: "Hard", leetcode: "https://leetcode.com/problems/number-of-enclaves/", gfg: "https://www.geeksforgeeks.org/number-of-enclaves/" },
                { name: "Word ladder - 1", difficulty: "Hard", leetcode: "https://leetcode.com/problems/word-ladder/", gfg: "https://www.geeksforgeeks.org/word-ladder-length-of-shortest-chain-to-reach-a-target-word/" },
                { name: "Word ladder - 2", difficulty: "Hard", leetcode: "https://leetcode.com/problems/word-ladder-ii/", gfg: "https://www.geeksforgeeks.org/word-ladder-set-2-bi-directional-bfs/" },
                { name: "Number of Distinct Islands [dfs multisource]", difficulty: "Hard", leetcode: "https://leetcode.com/problems/number-of-distinct-islands/", gfg: "https://www.geeksforgeeks.org/find-the-number-of-distinct-islands-in-a-2d-matrix/" },
                { name: "Bipartite Graph (DFS)", difficulty: "Medium", leetcode: "https://leetcode.com/problems/is-graph-bipartite/", gfg: "https://www.geeksforgeeks.org/bipartite-graph/" },
                { name: "Cycle Detection in Directed Graph (DFS)", difficulty: "Hard", leetcode: "", gfg: "https://www.geeksforgeeks.org/detect-cycle-in-a-graph/" }
            ],
            "Day 3: Problems on Topo Sort": [
                { name: "Topo Sort", difficulty: "Hard", leetcode: "", gfg: "https://www.geeksforgeeks.org/topological-sorting/" },
                { name: "Kahn's Algorithm", difficulty: "Hard", leetcode: "", gfg: "https://www.geeksforgeeks.org/topological-sorting-indegree-based-solution/" },
                { name: "Cycle Detection in Directed Graph (BFS)", difficulty: "Hard", leetcode: "", gfg: "https://www.geeksforgeeks.org/detect-cycle-direct-graph-using-colors/" },
                { name: "Course Schedule - I", difficulty: "Hard", leetcode: "https://leetcode.com/problems/course-schedule/", gfg: "https://www.geeksforgeeks.org/find-whether-it-is-possible-to-finish-all-tasks-or-not-from-given-dependencies/" },
                { name: "Course Schedule - II", difficulty: "Hard", leetcode: "https://leetcode.com/problems/course-schedule-ii/", gfg: "https://www.geeksforgeeks.org/course-schedule/" },
                { name: "Find eventual safe states", difficulty: "Hard", leetcode: "https://leetcode.com/problems/find-eventual-safe-states/", gfg: "https://www.geeksforgeeks.org/find-eventual-safe-states-directed-graph/" },
                { name: "Alien dictionary", difficulty: "Hard", leetcode: "https://leetcode.com/problems/alien-dictionary/", gfg: "https://www.geeksforgeeks.org/given-sorted-dictionary-find-precedence-characters/" }
            ],
            "Day 4: Shortest Path Algorithms and Problems": [
                { name: "Shortest Path in UG with unit weights", difficulty: "Hard", leetcode: "", gfg: "https://www.geeksforgeeks.org/shortest-path-unweighted-graph/" },
                { name: "Shortest Path in DAG", difficulty: "Hard", leetcode: "", gfg: "https://www.geeksforgeeks.org/shortest-path-for-directed-acyclic-graphs/" },
                { name: "Djisktra's Algorithm", difficulty: "Hard", leetcode: "", gfg: "https://www.geeksforgeeks.org/dijkstras-shortest-path-algorithm-greedy-algo-7/" },
                { name: "Why priority Queue is used in Djisktra's Algorithm", difficulty: "Medium", leetcode: "", gfg: "https://www.geeksforgeeks.org/dijkstras-algorithm-for-adjacency-list-representation-greedy-algo-8/" },
                { name: "Shortest path in a binary maze", difficulty: "Medium", leetcode: "https://leetcode.com/problems/shortest-path-in-binary-matrix/", gfg: "https://www.geeksforgeeks.org/shortest-path-in-a-binary-maze/" },
                { name: "Path with minimum effort", difficulty: "Medium", leetcode: "https://leetcode.com/problems/path-with-minimum-effort/", gfg: "https://www.geeksforgeeks.org/minimum-effort-path/" },
                { name: "Cheapest flights within k stops", difficulty: "Hard", leetcode: "https://leetcode.com/problems/cheapest-flights-within-k-stops/", gfg: "https://www.geeksforgeeks.org/cheapest-flights-within-k-stops/" },
                { name: "Network Delay time", difficulty: "Medium", leetcode: "https://leetcode.com/problems/network-delay-time/", gfg: "" },
                { name: "Number of ways to arrive at destination", difficulty: "Medium", leetcode: "https://leetcode.com/problems/number-of-ways-to-arrive-at-destination/", gfg: "https://www.geeksforgeeks.org/number-of-ways-to-reach-destination/" },
                { name: "Minimum steps to reach end from start by performing multiplication and mod operations with array elements", difficulty: "Hard", leetcode: "", gfg: "https://www.geeksforgeeks.org/minimum-steps-reach-end-start-performing-multiplication-mod-operations-array-elements/" },
                { name: "Bellman Ford Algorithm", difficulty: "Hard", leetcode: "", gfg: "https://www.geeksforgeeks.org/bellman-ford-algorithm-dp-23/" },
                { name: "Floyd Warshal Algorithm", difficulty: "Hard", leetcode: "", gfg: "https://www.geeksforgeeks.org/floyd-warshall-algorithm-dp-16/" },
                { name: "Find the city with the smallest number of neighbors in a threshold distance", difficulty: "Hard", leetcode: "https://leetcode.com/problems/find-the-city-with-the-smallest-number-of-neighbors-at-a-threshold-distance/", gfg: "https://www.geeksforgeeks.org/find-the-city-with-the-smallest-number-of-neighbors-in-a-threshold-distance/" }
            ],
            "Day 5: MinimumSpanningTree/Disjoint Set": [
                { name: "Minimum Spanning Tree", difficulty: "Hard", leetcode: "", gfg: "https://www.geeksforgeeks.org/applications-of-minimum-spanning-tree/" },
                { name: "Prim's Algorithm", difficulty: "Hard", leetcode: "", gfg: "https://www.geeksforgeeks.org/prims-minimum-spanning-tree-mst-greedy-algo-5/" },
                { name: "Disjoint Set [Union by Rank]", difficulty: "Hard", leetcode: "", gfg: "https://www.geeksforgeeks.org/union-find/" },
                { name: "Disjoint Set [Union by Size]", difficulty: "Hard", leetcode: "", gfg: "https://www.geeksforgeeks.org/union-find-algorithm-set-2-union-by-rank/" },
                { name: "Kruskal's Algorithm", difficulty: "Hard", leetcode: "", gfg: "https://www.geeksforgeeks.org/kruskals-minimum-spanning-tree-algorithm-greedy-algo-2/" },
                { name: "Number of operations to make network connected", difficulty: "Medium", leetcode: "https://leetcode.com/problems/number-of-operations-to-make-network-connected/", gfg: "https://www.geeksforgeeks.org/minimum-number-of-edges-to-be-added-to-make-the-graph-connected/" },
                { name: "Most stones removed with same rows or columns", difficulty: "Medium", leetcode: "https://leetcode.com/problems/most-stones-removed-with-same-row-or-column/", gfg: "https://www.geeksforgeeks.org/most-stones-removed-with-same-row-or-column/" },
                { name: "Accounts merge", difficulty: "Hard", leetcode: "https://leetcode.com/problems/accounts-merge/", gfg: "https://www.geeksforgeeks.org/merging-intervals/" },
                { name: "Number of island II", difficulty: "Hard", leetcode: "https://leetcode.com/problems/number-of-islands-ii/", gfg: "https://www.geeksforgeeks.org/find-number-of-islands/" },
                { name: "Making a Large Island", difficulty: "Hard", leetcode: "https://leetcode.com/problems/making-a-large-island/", gfg: "https://www.geeksforgeeks.org/largest-island-in-matrix/" },
                { name: "Swim in rising water", difficulty: "Hard", leetcode: "https://leetcode.com/problems/swim-in-rising-water/", gfg: "" }
            ],
            "Day 6: Other Algorithms": [
                { name: "Bridges in Graph", difficulty: "Hard", leetcode: "https://leetcode.com/problems/critical-connections-in-a-network/", gfg: "https://www.geeksforgeeks.org/bridge-in-a-graph/" },
                { name: "Articulation Point", difficulty: "Hard", leetcode: "", gfg: "https://www.geeksforgeeks.org/articulation-points-or-cut-vertices-in-a-graph/" },
                { name: "Kosaraju's Algorithm", difficulty: "Hard", leetcode: "", gfg: "https://www.geeksforgeeks.org/strongly-connected-components/" }
            ]
        };

        // Initialize problem list
        function initializeProblems() {
            allProblems = [];
            Object.keys(problemData).forEach(section => {
                problemData[section].forEach(problem => {
                    allProblems.push({
                        section: section,
                        name: problem.name,
                        difficulty: problem.difficulty,
                        leetcode: problem.leetcode,
                        gfg: problem.gfg,
                        id: generateId(problem.name)
                    });
                });
            });
        }

        // Generate unique ID for each problem
        function generateId(name) {
            return name.toLowerCase().replace(/[^a-z0-9]/g, '_');
        }

        // Get difficulty color
        function getDifficultyColor(difficulty) {
            switch(difficulty) {
                case 'Easy': return 'bg-gradient-to-r from-green-500 to-emerald-500 text-white';
                case 'Medium': return 'bg-gradient-to-r from-yellow-500 to-orange-500 text-white';
                case 'Hard': return 'bg-gradient-to-r from-red-500 to-pink-500 text-white';
                default: return 'bg-gradient-to-r from-gray-500 to-gray-600 text-white';
            }
        }

        // Get section gradient
        function getSectionGradient(section) {
            const gradients = [
                'from-indigo-500 to-purple-600',
                'from-purple-500 to-pink-600',
                'from-pink-500 to-rose-600',
                'from-blue-500 to-indigo-600',
                'from-cyan-500 to-blue-600',
                'from-emerald-500 to-teal-600'
            ];
            const index = Object.keys(problemData).indexOf(section) % gradients.length;
            return gradients[index];
        }

        // Generate platform links HTML
        function generatePlatformLinks(problem) {
            let linksHtml = '';
            
            if (problem.leetcode) {
                linksHtml += `
                    <a href="${problem.leetcode}" target="_blank" 
                       class="p-2 bg-transparent hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-all duration-300 shadow-md hover:shadow-lg transform hover:scale-105"
                       title="Open in LeetCode">
                        <img src="https://tse2.mm.bing.net/th/id/OIP.cNJCBLV2Loe3Tqwu6sHTkAHaHa?rs=1&pid=ImgDetMain&o=7&rm=3" alt="LeetCode" class="w-8 h-8 rounded-xl transition-all duration-300 hover:rotate-12 hover:scale-110">
                    </a>
                `;
            }
            
            if (problem.gfg) {
                linksHtml += `
                    <a href="${problem.gfg}" target="_blank" 
                       class="p-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-all duration-300 shadow-md hover:shadow-lg transform hover:scale-105"
                       title="Open in GeeksforGeeks">
                        <img src="https://media.geeksforgeeks.org/wp-content/uploads/20220620060056/gfg.jpg" alt="GeeksforGeeks" class="w-5 h-5 rounded transition-all duration-300 hover:scale-125 hover:rotate-6">
                    </a>
                `;
            }
            
            if (!problem.leetcode && !problem.gfg) {
                linksHtml += `
                    <div class="p-2 bg-gray-400 text-white rounded-lg opacity-50 cursor-not-allowed" 
                         title="No link available">
                        <i class="fas fa-times text-lg"></i>
                    </div>
                `;
            }
            
            return linksHtml;
        }

        // Render problems
        function renderProblems(problems = allProblems) {
            const container = document.getElementById('problemSections');
            container.innerHTML = '';

            // Group problems by section
            const groupedProblems = {};
            problems.forEach(problem => {
                if (!groupedProblems[problem.section]) {
                    groupedProblems[problem.section] = [];
                }
                groupedProblems[problem.section].push(problem);
            });

            Object.keys(groupedProblems).forEach(section => {
                const sectionProblems = groupedProblems[section];
                const completedInSection = sectionProblems.filter(p => problemStatus[p.id]).length;
                const remainingInSection = sectionProblems.length - completedInSection;
                const sectionProgress = (completedInSection / sectionProblems.length) * 100;
                
                const sectionHtml = `
                    <div class="bg-white/80 dark:bg-gray-800/80 backdrop-blur-lg rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-2xl transition-all duration-300">
                        <div class="bg-gradient-to-r ${getSectionGradient(section)} text-white p-6">
                            <div class="flex justify-between items-center mb-3">
                                <h2 class="text-2xl font-bold">${section}</h2>
                                <div class="text-right">
                                    <div class="text-sm opacity-90">Progress</div>
                                    <div class="text-lg font-semibold">${completedInSection} / ${sectionProblems.length}</div>
                                    <div class="text-xs opacity-80">${remainingInSection} remaining</div>
                                </div>
                            </div>
                            <div class="w-full bg-white/20 rounded-full h-2">
                                <div 
                                    class="bg-white h-2 rounded-full transition-all duration-500"
                                    style="width: ${sectionProgress}%"
                                ></div>
                            </div>
                        </div>
                        <div class="p-6">
                            <div class="space-y-3">
                                ${sectionProblems.map(problem => `
                                    <div class="group flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 border border-gray-200 dark:border-gray-600 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-600/50 transition-all duration-300 hover:shadow-lg">
                                        <div class="flex items-center space-x-4 flex-1">
                                            <label class="relative cursor-pointer">
                                                <input 
                                                    type="checkbox" 
                                                    class="sr-only"
                                                    ${problemStatus[problem.id] ? 'checked' : ''}
                                                    onchange="toggleProblem('${problem.id}')"
                                                >
                                                <div class="w-6 h-6 bg-white dark:bg-gray-600 border-2 border-gray-300 dark:border-gray-500 rounded-lg flex items-center justify-center transition-all duration-300 ${problemStatus[problem.id] ? 'bg-gradient-to-r from-green-500 to-emerald-500 border-green-500' : 'group-hover:border-blue-400'}">
                                                    <i class="fas fa-check text-white text-sm ${problemStatus[problem.id] ? 'opacity-100' : 'opacity-0'} transition-opacity duration-300"></i>
                                                </div>
                                            </label>
                                            <span class="text-gray-800 dark:text-gray-200 font-medium transition-all duration-300 ${problemStatus[problem.id] ? 'line-through opacity-60' : 'group-hover:text-blue-600 dark:group-hover:text-blue-400'} flex-1">${problem.name}</span>
                                        </div>
                                        <div class="flex items-center space-x-3">
                                            ${generatePlatformLinks(problem)}
                                            <span class="px-3 py-1 text-xs font-semibold rounded-full ${getDifficultyColor(problem.difficulty)} shadow-lg">
                                                ${problem.difficulty}
                                            </span>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                `;
                container.innerHTML += sectionHtml;
            });
        }

        // Toggle problem completion
        function toggleProblem(problemId) {
            problemStatus[problemId] = !problemStatus[problemId];
            localStorage.setItem('graphProblemStatus', JSON.stringify(problemStatus));
            updateStats();
            // Re-render to update the strikethrough effect and remaining counts
            const searchTerm = document.getElementById('searchInput').value;
            if (searchTerm) {
                searchProblems(searchTerm);
            } else {
                renderProblems();
            }
        }

        // Update statistics
        function updateStats() {
            const completed = Object.values(problemStatus).filter(Boolean).length;
            const total = allProblems.length;
            const remaining = total - completed;
            const percentage = total > 0 ? Math.round((completed / total) * 100) : 0;
            
            document.getElementById('completedCount').textContent = completed;
            document.getElementById('remainingCount').textContent = remaining;
            document.getElementById('totalCount').textContent = total;
            document.getElementById('progressPercentage').textContent = percentage + '%';
            document.getElementById('progressText').textContent = `${completed} / ${total}`;
            document.getElementById('progressBar').style.width = percentage + '%';
        }

        // Search problems
        function searchProblems(searchTerm) {
            const filtered = allProblems.filter(problem => 
                problem.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
                problem.difficulty.toLowerCase().includes(searchTerm.toLowerCase()) ||
                problem.section.toLowerCase().includes(searchTerm.toLowerCase())
            );
            renderProblems(filtered);
        }

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            updateTheme();
            initializeProblems();
            renderProblems();
            updateStats();

            // Dark mode toggle
            document.getElementById('darkModeToggle').addEventListener('click', toggleDarkMode);

            // Search functionality
            document.getElementById('searchInput').addEventListener('input', function(e) {
                const searchTerm = e.target.value.trim();
                if (searchTerm) {
                    searchProblems(searchTerm);
                } else {
                    renderProblems();
                }
            });
        });
    </script>
</body>
</html>